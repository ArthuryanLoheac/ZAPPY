<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.13.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>My Project: docs/node_modules/update-notifier Directory Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
  $(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">My Project
   </div>
  </td>
    <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <span id="MSearchSelect"                onmouseover="return searchBox.OnSearchSelectShow()"                onmouseout="return searchBox.OnSearchSelectHide()">&#160;</span>
          <input type="text" id="MSearchField" value="" placeholder="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.13.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('dir_99dcb7057c5aff3922bc7e9793c8da4f.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="headertitle"><div class="title">update-notifier Directory Reference</div></div>
</div><!--header-->
<div class="contents">
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<blockquote class="doxtable">
<p>Update notifications for your CLI app </p>
</blockquote>
<p><img src="screenshot.png" alt="" class="inline"/></p>
<p>Inform users of your package of updates in a non-intrusive way.</p>
<h3><a class="anchor" id="autotoc_md21606"></a>
Contents</h3>
<ul>
<li>Install</li>
<li><a class="el" href="/home/matt/tek2/YEP/ZAPPY/docs/node_modules/@sinclair/typebox/readme.md#usage">Usage</a></li>
<li>How</li>
<li>API</li>
<li>About</li>
<li>Users</li>
</ul>
<h1><a class="anchor" id="autotoc_md21607"></a>
Install</h1>
<div class="fragment"><div class="line">npm install update-notifier</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md21608"></a>
Usage</h1>
<h2><a class="anchor" id="autotoc_md21609"></a>
Simple</h2>
<div class="fragment"><div class="line">import updateNotifier from &#39;update-notifier&#39;;</div>
<div class="line">import packageJson from &#39;./package.json&#39; assert {type: &#39;json&#39;};</div>
<div class="line"> </div>
<div class="line">updateNotifier({pkg: packageJson}).notify();</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md21610"></a>
Comprehensive</h2>
<div class="fragment"><div class="line">import updateNotifier from &#39;update-notifier&#39;;</div>
<div class="line">import packageJson from &#39;./package.json&#39; assert {type: &#39;json&#39;};</div>
<div class="line"> </div>
<div class="line">// Checks for available update and returns an instance</div>
<div class="line">const notifier = updateNotifier({pkg: packageJson});</div>
<div class="line"> </div>
<div class="line">// Notify using the built-in convenience method</div>
<div class="line">notifier.notify();</div>
<div class="line"> </div>
<div class="line">// `notifier.update` contains some useful info about the update</div>
<div class="line">console.log(notifier.update);</div>
<div class="line">/*</div>
<div class="line">{</div>
<div class="line">    latest: &#39;1.0.1&#39;,</div>
<div class="line">    current: &#39;1.0.0&#39;,</div>
<div class="line">    type: &#39;patch&#39;, // Possible values: latest, major, minor, patch, prerelease, build</div>
<div class="line">    name: &#39;pageres&#39;</div>
<div class="line">}</div>
<div class="line">*/</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md21611"></a>
Options and custom message</h2>
<div class="fragment"><div class="line">const notifier = updateNotifier({</div>
<div class="line">    pkg,</div>
<div class="line">    updateCheckInterval: 1000 * 60 * 60 * 24 * 7 // 1 week</div>
<div class="line">});</div>
<div class="line"> </div>
<div class="line">if (notifier.update) {</div>
<div class="line">    console.log(`Update available: ${notifier.update.latest}`);</div>
<div class="line">}</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md21612"></a>
How</h1>
<p>Whenever you initiate the update notifier and it's not within the interval threshold, it will asynchronously check with npm in the background for available updates, then persist the result. The next time the notifier is initiated, the result will be loaded into the <code>.update</code> property. This prevents any impact on your package startup performance. The update check is done in a unref'ed <a href="https://nodejs.org/api/child_process.html#child_process_child_process_spawn_command_args_options">child process</a>. This means that if you call <code>process.exit</code>, the check will still be performed in its own process.</p>
<p>The first time the user runs your app, it will check for an update, and even if an update is available, it will wait the specified <code>updateCheckInterval</code> before notifying the user. This is done to not be annoying to the user, but might surprise you as an implementer if you're testing whether it works. Check out <a href="example.js"><code>example.js</code></a> to quickly test out <code>update-notifier</code> and see how you can test that it works in your app.</p>
<h1><a class="anchor" id="autotoc_md21613"></a>
API</h1>
<h2><a class="anchor" id="autotoc_md21614"></a>
notifier = updateNotifier(options)</h2>
<p>Checks if there is an available update. Accepts options defined below. Returns an instance with an <code>.update</code> property if there is an available update, otherwise <code>undefined</code>.</p>
<h2><a class="anchor" id="autotoc_md21615"></a>
options</h2>
<p>Type: <code>object</code></p>
<h3><a class="anchor" id="autotoc_md21616"></a>
pkg</h3>
<p>Type: <code>object</code></p>
<h4><a class="anchor" id="autotoc_md21617"></a>
name</h4>
<p><em>Required</em>\ Type: <code>string</code></p>
<h4><a class="anchor" id="autotoc_md21618"></a>
version</h4>
<p><em>Required</em>\ Type: <code>string</code></p>
<h3><a class="anchor" id="autotoc_md21619"></a>
updateCheckInterval</h3>
<p>Type: <code>number</code>\ Default: <code>1000 * 60 * 60 * 24</code> <em>(1 day)</em></p>
<p>How often to check for updates.</p>
<h3><a class="anchor" id="autotoc_md21620"></a>
shouldNotifyInNpmScript</h3>
<p>Type: <code>boolean</code>\ Default: <code>false</code></p>
<p>Allows notification to be shown when running as an npm script.</p>
<h3><a class="anchor" id="autotoc_md21621"></a>
distTag</h3>
<p>Type: <code>string</code>\ Default: &lsquo;'latest&rsquo;`</p>
<p>Which <a href="https://docs.npmjs.com/adding-dist-tags-to-packages">dist-tag</a> to use to find the latest version.</p>
<h2><a class="anchor" id="autotoc_md21622"></a>
notifier.fetchInfo()</h2>
<p>Check update information.</p>
<p>Returns an <code>object</code> with:</p>
<ul>
<li><code>latest</code> <em>(String)</em> - Latest version.</li>
<li><code>current</code> <em>(String)</em> - Current version.</li>
<li><code>type</code> <em>(String)</em> - Type of current update. Possible values: <code>latest</code>, <code>major</code>, <code>minor</code>, <code>patch</code>, <code>prerelease</code>, <code>build</code>.</li>
<li><code>name</code> <em>(String)</em> - Package name.</li>
</ul>
<h2><a class="anchor" id="autotoc_md21623"></a>
notifier.notify(options?)</h2>
<p>Convenience method to display a notification message. <em>(See screenshot)</em></p>
<p>Only notifies if there is an update and the process is <a href="https://nodejs.org/api/process.html#process_a_note_on_process_i_o">TTY</a>.</p>
<h3><a class="anchor" id="autotoc_md21624"></a>
options</h3>
<p>Type: <code>object</code></p>
<h4><a class="anchor" id="autotoc_md21625"></a>
defer</h4>
<p>Type: <code>boolean</code>\ Default: <code>true</code></p>
<p>Defer showing the notification to after the process has exited.</p>
<h4><a class="anchor" id="autotoc_md21626"></a>
message</h4>
<p>Type: <code>string</code>\ Default: <a href="https://github.com/yeoman/update-notifier#update-notifier-">See above screenshot</a></p>
<p>Message that will be shown when an update is available.</p>
<p>Available placeholders:</p>
<ul>
<li><code>{packageName}</code> - Package name.</li>
<li><code>{currentVersion}</code> - Current version.</li>
<li><code>{latestVersion}</code> - Latest version.</li>
<li><code>{updateCommand}</code> - Update command.</li>
</ul>
<div class="fragment"><div class="line">notifier.notify({message: &#39;Run `{updateCommand}` to update.&#39;});</div>
<div class="line"> </div>
<div class="line">// Output:</div>
<div class="line">// Run `npm install update-notifier-tester@1.0.0` to update.</div>
</div><!-- fragment --><h4><a class="anchor" id="autotoc_md21627"></a>
isGlobal</h4>
<p>Type: <code>boolean</code>\ Default: Auto-detect</p>
<p>Include the <code>-g</code> argument in the default message's <code>npm i</code> recommendation. You may want to change this if your CLI package can be installed as a dependency of another project, and don't want to recommend a global installation. This option is ignored if you supply your own <code>message</code> (see above).</p>
<h4><a class="anchor" id="autotoc_md21628"></a>
boxenOptions</h4>
<p>Type: <code>object</code>\ Default: &lsquo;{padding: 1, margin: 1, textAlignment: 'center&rsquo;, borderColor: 'yellow', borderStyle: 'round'}` <em>(See screenshot)</em></p>
<p>Options object that will be passed to <a href="https://github.com/sindresorhus/boxen"><code>boxen</code></a>.</p>
<h2><a class="anchor" id="autotoc_md21629"></a>
User settings</h2>
<p>Users of your module have the ability to opt-out of the update notifier by changing the <code>optOut</code> property to <code>true</code> in <code>~/.config/configstore/update-notifier-[your-module-name].json</code>. The path is available in <code>notifier.config.path</code>.</p>
<p>Users can also opt-out by <a href="https://github.com/sindresorhus/guides/blob/main/set-environment-variables.md">setting the environment variable</a> <code>NO_UPDATE_NOTIFIER</code> with any value or by using the <code>--no-update-notifier</code> flag on a per run basis.</p>
<p>The check is also skipped automatically:</p><ul>
<li>on CI</li>
<li>in unit tests (when the <code>NODE_ENV</code> environment variable is <code>test</code>)</li>
</ul>
<h1><a class="anchor" id="autotoc_md21630"></a>
About</h1>
<p>The idea for this module came from the desire to apply the browser update strategy to CLI tools, where everyone is always on the latest version. We first tried automatic updating, which we discovered wasn't popular. This is the second iteration of that idea, but limited to just update notifications.</p>
<h1><a class="anchor" id="autotoc_md21631"></a>
Users</h1>
<p>There are a bunch projects using it:</p>
<ul>
<li><a href="https://github.com/npm/npm">npm</a> - Package manager for JavaScript</li>
<li><a href="https://yeoman.io">Yeoman</a> - Modern workflows for modern webapps</li>
<li><a href="https://avajs.dev">AVA</a> - Simple concurrent test runner</li>
<li><a href="https://github.com/xojs/xo">XO</a> - JavaScript happiness style linter</li>
<li><a href="https://github.com/node-gh/gh">Node GH</a> - GitHub command line tool</li>
</ul>
<p><a href="https://www.npmjs.org/browse/depended/update-notifier">And 2700+ more…</a></p>
<hr  />
<div align="center"> <b> <a href="https://tidelift.com/subscription/pkg/npm-update_notifier?utm_source=npm-update-notifier&amp;utm_medium=referral&amp;utm_campaign=readme">Get professional support for this package with a Tidelift subscription</a> </b> <br  />
 <sub> Tidelift helps make open source sustainable for maintainers while giving companies<br  />
assurances about security, maintenance, and licensing for their dependencies. </sub> </div> </div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_49e56c817e5e54854c35e136979f97ca.html">docs</a></li><li class="navelem"><a class="el" href="dir_a0409b32ef7fd26e7246cf83548265be.html">node_modules</a></li><li class="navelem"><a class="el" href="dir_99dcb7057c5aff3922bc7e9793c8da4f.html">update-notifier</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.13.2 </li>
  </ul>
</div>
</body>
</html>

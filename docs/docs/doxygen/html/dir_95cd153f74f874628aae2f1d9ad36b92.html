<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.13.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>My Project: docs/node_modules/xml-js Directory Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
  $(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">My Project
   </div>
  </td>
    <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <span id="MSearchSelect"                onmouseover="return searchBox.OnSearchSelectShow()"                onmouseout="return searchBox.OnSearchSelectHide()">&#160;</span>
          <input type="text" id="MSearchField" value="" placeholder="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.13.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('dir_95cd153f74f874628aae2f1d9ad36b92.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="headertitle"><div class="title">xml-js Directory Reference</div></div>
</div><!--header-->
<div class="contents">
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>![XML ⇔ JS/JSON](<a href="http://nashwaan.github.io/xml-js/images/logo.svg">http://nashwaan.github.io/xml-js/images/logo.svg</a>)</p>
<p>Convert XML text to Javascript object / JSON text (and vice versa).</p>
<p><a href="https://ci.appveyor.com/project/nashwaan/xml-js"><img src="https://ci.appveyor.com/api/projects/status/0ky9f115m0f0r0gf?svg=true" alt="Build Status" class="inline"/></a> <a href="https://travis-ci.org/nashwaan/xml-js"><img src="https://travis-ci.org/nashwaan/xml-js.svg?branch=master" alt="Build Status" style="pointer-events: none;" class="inline"/></a> <a href="https://circleci.com/gh/nashwaan/xml-js"><img src="https://img.shields.io/circleci/project/nashwaan/xml-js.svg" alt="Build Status" style="pointer-events: none;" class="inline"/></a></p>
<p><a href="https://coveralls.io/github/nashwaan/xml-js?branch=master"><img src="https://coveralls.io/repos/github/nashwaan/xml-js/badge.svg?branch=master" alt="Coverage Status" style="pointer-events: none;" class="inline"/></a> <a href="https://codecov.io/gh/nashwaan/xml-js"><img src="https://codecov.io/gh/nashwaan/xml-js/branch/master/graph/badge.svg" alt="codecov" style="pointer-events: none;" class="inline"/></a> <a href="https://www.codacy.com/app/ysf953/xml-js?utm_source=github.com&amp;utm_medium=referral&amp;utm_content=nashwaan/xml-js&amp;utm_campaign=Badge_Grade"><img src="https://api.codacy.com/project/badge/Grade/f6ed5dd79a5b4041bfd2732963c4d09b" alt="Codacy Badge" class="inline"/></a> <a href="https://codeclimate.com/github/nashwaan/xml-js"><img src="https://codeclimate.com/github/nashwaan/xml-js/badges/gpa.svg" alt="Code Climate" style="pointer-events: none;" class="inline"/></a></p>
<p><a href="https://www.npmjs.com/package/xml-js"><img src="http://img.shields.io/npm/v/xml-js.svg" alt="npm" style="pointer-events: none;" class="inline"/></a> [<img src="https://img.shields.io/npm/l/xml-js.svg" alt="License" style="pointer-events: none;" class="inline"/>](LICENSE) <a href="http://www.npmtrends.com/xml-js"><img src="https://img.shields.io/npm/dm/xml-js.svg" alt="Downloads/month" style="pointer-events: none;" class="inline"/></a> <a href="https://david-dm.org/nashwaan/xml-js"><img src="https://david-dm.org/nashwaan/xml-js.svg" alt="Dependency Status" style="pointer-events: none;" class="inline"/></a> <a href="http://packagequality.com/#?package=xml-js"><img src="http://npm.packagequality.com/shield/xml-js.svg" alt="Package Quality" style="pointer-events: none;" class="inline"/></a></p>
<h1><a class="anchor" id="autotoc_md23142"></a>
Synopsis</h1>
<p><img src="http://nashwaan.github.io/xml-js/images/synopsis.svg" alt="Convert XML ↔ JS/JSON as compact or non-compact" style="pointer-events: none;" class="inline"/></p>
<h1><a class="anchor" id="autotoc_md23143"></a>
Features</h1>
<ul>
<li><b>Maintain Order of Elements</b>: Most libraries will convert <code>&lt;a/&gt;&lt;b/&gt;&lt;a/&gt;</code> to <code>{a:[{},{}],b:{}}</code> which merges any node of same name into an array. This library can create the following to preserve the order of elements: <code>{"elements":[{"type":"element","name":"a"},{"type":"element","name":"b"},{"type":"element","name":"a"}]}</code>.</li>
</ul>
<p>This is very important and it is the main reason why this library was created. Read also Compact vs Non-Compact for more info.</p>
<ul>
<li><b>Fully XML Compliant</b>: Can parse: elements, attributes, texts, comments, CData, DOCTYPE, XML declarations, and Processing Instructions.</li>
<li><b>Reversible</b>: Whether converting xml→json or json→xml, the result can be converted back to its original form.</li>
<li><b>Minimal Dependencies</b>: This library depends only on one external npm module.</li>
<li><b>Change Property Key Name</b>: Usually output of XML attributes are stored in <code>@attr</code>, <code>_atrr</code>, <code>$attr</code> or <code>$</code> in order to avoid conflicting with name of sub-elements. This library store them in <code>attributes</code>, but most importantly, you can change this to whatever you like.</li>
<li><b>Support Upwards Traversal</b>: By setting <code>{addParent: true}</code> option, an extra property named <code>parent</code> will be generated along each element so that its parent can be referenced. Therefore, anywhere during the traversal of an element, its children <b>and</b> its parent can be easily accessed.</li>
<li><b>Support Command Line</b>: To quickly convert xml or json files, this module can be installed globally or locally (i.e. use it as <a href="https://docs.npmjs.com/misc/scripts">script</a> in package.json).</li>
<li><b>Customize Processing using Callback Hooks</b>: Custom functions can be supplied to do additional processing for different parts of xml or json (like cdata, comments, elements, attributes ...etc).</li>
<li><b>Portable Code</b>: Written purely in JavaScript which means it can be used in Node environment and <b>browser</b> environment (via bundlers like browserify/JSPM/Webpack).</li>
<li><b>Typings Info Included</b>: Support type checking and code suggestion via intellisense. Thanks to the wonderful efforts by <a href="https://github.com/DenisCarriere">DenisCarriere</a>.</li>
</ul>
<h2><a class="anchor" id="autotoc_md23144"></a>
Compact vs Non-Compact</h2>
<p>Most XML to JSON converters (including online converters) convert <code>&lt;a/&gt;</code> to some compact output like <code>{"a":{}}</code> instead of non-compact output like <code>{"elements":[{"type":"element","name":"a"}]}</code>.</p>
<p>While compact output might work in most situations, there are cases when elements of different names are mixed inside a parent element. Lets use <code>&lt;a x="1"/&gt;&lt;b x="2"/&gt;&lt;a x="3"/&gt;</code> as an example. Most converters will produce compact output like this <code>{a:[{_:{x:"1"}},{_:{x:"3"}}], b:{_:{x:"2"}}}</code>, which has merged both <code>&lt;a&gt;</code> elements into an array. If you try to convert this back to xml, you will get <code>&lt;a x="1"/&gt;&lt;a x="3"/&gt;&lt;b x="2"/&gt;</code> which has not preserved the order of elements!</p>
<p>The reason behind this behavior is due to the inherent limitation in the compact representation. Because output like <code>{a:{_:{x:"1"}}, b:{_:{x:"2"}}, a:{_:{x:"3"}}}</code> is illegal (same property name <code>a</code> should not appear twice in an object). This leaves no option but to use array <code>{a:[{_:{x:"1"}},{_:{x:"3"}}]</code>.</p>
<p>The non-compact output, which is supported by this library, will produce more information and always guarantees the order of the elements as they appeared in the XML file.</p>
<p>Another drawback of compact output is the resultant element can be an object or an array and therefore makes the client code a little awkward in terms of the extra check needed on object type before processing.</p>
<p>NOTE: Although non-compact output is more accurate representation of original XML than compact version, the non-compact version is verbose and consumes more space. This library provides both options. Use <code>{compact: false}</code> if you are not sure because it preserves everything; otherwise use <code>{compact: true}</code> if you want to save space and you don't care about mixing elements of same name and losing their order.</p>
<p>Tip: You can reduce the output size by using shorter key names.</p>
<h1><a class="anchor" id="autotoc_md23145"></a>
Usage</h1>
<h2><a class="anchor" id="autotoc_md23146"></a>
Installation</h2>
<div class="fragment"><div class="line">npm install --save xml-js</div>
</div><!-- fragment --><p>You can also install it globally to use it as a command line convertor (see Command Line).</p>
<div class="fragment"><div class="line">npm install --global xml-js</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md23147"></a>
Quick start</h2>
<div class="fragment"><div class="line">var convert = require(&#39;xml-js&#39;);</div>
<div class="line">var xml =</div>
<div class="line">&#39;&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;&#39; +</div>
<div class="line">&#39;&lt;note importance=&quot;high&quot; logged=&quot;true&quot;&gt;&#39; +</div>
<div class="line">&#39;    &lt;title&gt;Happy&lt;/title&gt;&#39; +</div>
<div class="line">&#39;    &lt;todo&gt;Work&lt;/todo&gt;&#39; +</div>
<div class="line">&#39;    &lt;todo&gt;Play&lt;/todo&gt;&#39; +</div>
<div class="line">&#39;&lt;/note&gt;&#39;;</div>
<div class="line">var result1 = convert.xml2json(xml, {compact: true, spaces: 4});</div>
<div class="line">var result2 = convert.xml2json(xml, {compact: false, spaces: 4});</div>
<div class="line">console.log(result1, &#39;\n&#39;, result2);</div>
</div><!-- fragment --><p>To see the result of this code, see the output above in Synopsis section.</p>
<p>Or <a href="https://runkit.com/587874e079a2f60013c1f5ac/587874e079a2f60013c1f5ad">run and edit</a> this code live in the browser.</p>
<h2><a class="anchor" id="autotoc_md23148"></a>
Sample Conversions</h2>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadLeft">XML   </th><th class="markdownTableHeadLeft">JS/JSON compact   </th><th class="markdownTableHeadLeft">JS/JSON non-compact    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft"><code>&lt;a/&gt;</code>   </td><td class="markdownTableBodyLeft"><code>{"a":{}}</code>   </td><td class="markdownTableBodyLeft"><code>{"elements":[{"type":"element","name":"a"}]}</code>    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft"><code>&lt;a/&gt;&lt;b/&gt;</code>   </td><td class="markdownTableBodyLeft"><code>{"a":{},"b":{}}</code>   </td><td class="markdownTableBodyLeft"><code>{"elements":[{"type":"element","name":"a"},{"type":"element","name":"b"}]}</code>    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft"><code>&lt;a&gt;&lt;b/&gt;&lt;/a&gt;</code>   </td><td class="markdownTableBodyLeft"><code>{"a":{"b":{}}}</code>   </td><td class="markdownTableBodyLeft"><code>{"elements":[{"type":"element","name":"a","elements":[{"type":"element","name":"b"}]}]}</code>    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft"><code>&lt;a&gt; Hi &lt;/a&gt;</code>   </td><td class="markdownTableBodyLeft"><code>{"a":{"_text":" Hi "}}</code>   </td><td class="markdownTableBodyLeft"><code>{"elements":[{"type":"element","name":"a","elements":[{"type":"text","text":" Hi "}]}]}</code>    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft"><code>&lt;a x="1.234" y="It's"/&gt;</code>   </td><td class="markdownTableBodyLeft"><code>{"a":{"_attributes":{"x":"1.234","y":"It's"}}}</code>   </td><td class="markdownTableBodyLeft"><code>{"elements":[{"type":"element","name":"a","attributes":{"x":"1.234","y":"It's"}}]}</code>    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft"><code>&lt;?xml?&gt;</code>   </td><td class="markdownTableBodyLeft"><code>{"_declaration":{}}</code>   </td><td class="markdownTableBodyLeft"><code>{"declaration":{}}</code>    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft"><code>&lt;?go there?&gt;</code>   </td><td class="markdownTableBodyLeft"><code>{"_instruction":{"go":"there"}}</code>   </td><td class="markdownTableBodyLeft"><code>{"elements":[{"type":"instruction","name":"go","instruction":"there"}]}</code>    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft"><code>&lt;?xml version="1.0" encoding="utf-8"?&gt;</code>   </td><td class="markdownTableBodyLeft"><code>{"_declaration":{"_attributes":{"version":"1.0","encoding":"utf-8"}}}</code>   </td><td class="markdownTableBodyLeft"><code>{"declaration":{"attributes":{"version":"1.0","encoding":"utf-8"}}}</code>    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft"><code>&lt;!--Hello, World!--&gt;</code>   </td><td class="markdownTableBodyLeft"><code>{"_comment":"Hello, World!"}</code>   </td><td class="markdownTableBodyLeft"><code>{"elements":[{"type":"comment","comment":"Hello, World!"}]}</code>    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft"><code>&lt;![CDATA[&lt;foo&gt;&lt;/bar&gt;]]&gt;</code>   </td><td class="markdownTableBodyLeft"><code>{"_cdata":"&lt;foo&gt;&lt;/bar&gt;"}</code>   </td><td class="markdownTableBodyLeft"><code>{"elements":[{"type":"cdata","cdata":"&lt;foo&gt;&lt;/bar&gt;"}]}</code>   </td></tr>
</table>
<h1><a class="anchor" id="autotoc_md23149"></a>
API Reference</h1>
<p>This library provides 4 functions: <code>js2xml()</code>, <code>json2xml()</code>, <code>xml2js()</code>, and <code>xml2json()</code>. Here are the usages for each one (see more details in the following sections): </p><div class="fragment"><div class="line">var convert = require(&#39;xml-js&#39;);</div>
<div class="line">result = convert.js2xml(js, options);     // to convert javascript object to xml text</div>
<div class="line">result = convert.json2xml(json, options); // to convert json text to xml text</div>
<div class="line">result = convert.xml2js(xml, options);    // to convert xml text to javascript object</div>
<div class="line">result = convert.xml2json(xml, options);  // to convert xml text to json text</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md23150"></a>
Convert JS object / JSON → XML</h2>
<p>To convert JavaScript object to XML text, use <code>js2xml()</code>. To convert JSON text to XML text, use <code>json2xml()</code>.</p>
<div class="fragment"><div class="line">var convert = require(&#39;xml-js&#39;);</div>
<div class="line">var json = require(&#39;fs&#39;).readFileSync(&#39;test.json&#39;, &#39;utf8&#39;);</div>
<div class="line">var options = {compact: true, ignoreComment: true, spaces: 4};</div>
<div class="line">var result = convert.json2xml(json, options);</div>
<div class="line">console.log(result);</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md23151"></a>
Options for Converting JS object / JSON → XML</h3>
<p>The below options are applicable for both <code>js2xml()</code> and <code>json2xml()</code> functions.</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadLeft">Option   </th><th class="markdownTableHeadLeft">Default   </th><th class="markdownTableHeadLeft">Description    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft"><code>spaces</code>   </td><td class="markdownTableBodyLeft"><code>0</code>   </td><td class="markdownTableBodyLeft">Number of spaces to be used for indenting XML output. Passing characters like &lsquo;&rsquo; '<code>or</code>'\t'<code>are also accepted. \ilinebr &lt;/td&gt; &lt;/tr&gt; &lt;tr class="markdownTableRowEven"&gt; &lt;td class="markdownTableBodyLeft"&gt;</code>compact<code>\ilinebr &lt;/td&gt; &lt;td class="markdownTableBodyLeft"&gt;</code>false<code>\ilinebr &lt;/td&gt; &lt;td class="markdownTableBodyLeft"&gt; Whether the *input* object is in compact form or not. By default, input is expected to be in non-compact form. \ilinebr &lt;/td&gt; &lt;/tr&gt; &lt;tr class="markdownTableRowOdd"&gt; &lt;td class="markdownTableBodyLeft"&gt; \ilinebr &lt;/td&gt; &lt;td class="markdownTableBodyLeft"&gt; \ilinebr &lt;/td&gt; &lt;td class="markdownTableBodyLeft"&gt; IMPORTANT: Remeber to set this option</code>compact: true<code>if you are supplying normal json (which is likely equivalent to compact form). Otherwise, the function assumes your json input is non-compact form and you will not get a result if it is not in that form. See [Synopsis](#synopsis) to know the difference between the two json forms \ilinebr &lt;/td&gt; &lt;/tr&gt; &lt;tr class="markdownTableRowEven"&gt; &lt;td class="markdownTableBodyLeft"&gt;</code>fullTagEmptyElement<code>\ilinebr &lt;/td&gt; &lt;td class="markdownTableBodyLeft"&gt;</code>false<code>\ilinebr &lt;/td&gt; &lt;td class="markdownTableBodyLeft"&gt; Whether to produce element without sub-elements as full tag pairs</code><code>rather than self closing tag</code><code>. \ilinebr &lt;/td&gt; &lt;/tr&gt; &lt;tr class="markdownTableRowOdd"&gt; &lt;td class="markdownTableBodyLeft"&gt;</code>indentCdata<code>\ilinebr &lt;/td&gt; &lt;td class="markdownTableBodyLeft"&gt;</code>false<code>\ilinebr &lt;/td&gt; &lt;td class="markdownTableBodyLeft"&gt; Whether to write CData in a new line and indent it. Will generate</code><br  />
 foo<code>instead of</code>foo<code>. See [discussion](<a href="https://github.com/nashwaan/xml-js/issues/14">https://github.com/nashwaan/xml-js/issues/14</a>) \ilinebr &lt;/td&gt; &lt;/tr&gt; &lt;tr class="markdownTableRowEven"&gt; &lt;td class="markdownTableBodyLeft"&gt;</code>indentAttributes<code>\ilinebr &lt;/td&gt; &lt;td class="markdownTableBodyLeft"&gt;</code>false<code>\ilinebr &lt;/td&gt; &lt;td class="markdownTableBodyLeft"&gt; Whether to print attributes across multiple lines and indent them (when</code>spaces<code>is not</code>0<code>). See [example](<a href="https://github.com/nashwaan/xml-js/issues/31">https://github.com/nashwaan/xml-js/issues/31</a>). \ilinebr &lt;/td&gt; &lt;/tr&gt; &lt;tr class="markdownTableRowOdd"&gt; &lt;td class="markdownTableBodyLeft"&gt;</code>ignoreDeclaration<code>\ilinebr &lt;/td&gt; &lt;td class="markdownTableBodyLeft"&gt;</code>false<code>\ilinebr &lt;/td&gt; &lt;td class="markdownTableBodyLeft"&gt; Whether to ignore writing declaration directives of xml. For example,</code>&lt;?xml?&gt;<code>will be ignored. \ilinebr &lt;/td&gt; &lt;/tr&gt; &lt;tr class="markdownTableRowEven"&gt; &lt;td class="markdownTableBodyLeft"&gt;</code>ignoreInstruction<code>\ilinebr &lt;/td&gt; &lt;td class="markdownTableBodyLeft"&gt;</code>false<code>\ilinebr &lt;/td&gt; &lt;td class="markdownTableBodyLeft"&gt; Whether to ignore writing processing instruction of xml. For example,</code>&lt;?go there?&gt;<code>will be ignored. \ilinebr &lt;/td&gt; &lt;/tr&gt; &lt;tr class="markdownTableRowOdd"&gt; &lt;td class="markdownTableBodyLeft"&gt;</code>ignoreAttributes<code>\ilinebr &lt;/td&gt; &lt;td class="markdownTableBodyLeft"&gt;</code>false<code>\ilinebr &lt;/td&gt; &lt;td class="markdownTableBodyLeft"&gt; Whether to ignore writing attributes of the elements. For example,</code>x="1"<code>in</code><code>will be ignored \ilinebr &lt;/td&gt; &lt;/tr&gt; &lt;tr class="markdownTableRowEven"&gt; &lt;td class="markdownTableBodyLeft"&gt;</code>ignoreComment<code>\ilinebr &lt;/td&gt; &lt;td class="markdownTableBodyLeft"&gt;</code>false<code>\ilinebr &lt;/td&gt; &lt;td class="markdownTableBodyLeft"&gt; Whether to ignore writing comments of the elements. That is, no</code><code>will be generated. \ilinebr &lt;/td&gt; &lt;/tr&gt; &lt;tr class="markdownTableRowOdd"&gt; &lt;td class="markdownTableBodyLeft"&gt;</code>ignoreCdata<code>\ilinebr &lt;/td&gt; &lt;td class="markdownTableBodyLeft"&gt;</code>false<code>\ilinebr &lt;/td&gt; &lt;td class="markdownTableBodyLeft"&gt; Whether to ignore writing CData of the elements. That is, no</code> <code>will be generated. \ilinebr &lt;/td&gt; &lt;/tr&gt; &lt;tr class="markdownTableRowEven"&gt; &lt;td class="markdownTableBodyLeft"&gt;</code>ignoreDoctype<code>\ilinebr &lt;/td&gt; &lt;td class="markdownTableBodyLeft"&gt;</code>false<code>\ilinebr &lt;/td&gt; &lt;td class="markdownTableBodyLeft"&gt; Whether to ignore writing Doctype of the elements. That is, no</code>&lt;!DOCTYPE &gt;<code>will be generated. \ilinebr &lt;/td&gt; &lt;/tr&gt; &lt;tr class="markdownTableRowOdd"&gt; &lt;td class="markdownTableBodyLeft"&gt;</code>ignoreText<code>\ilinebr &lt;/td&gt; &lt;td class="markdownTableBodyLeft"&gt;</code>false<code>\ilinebr &lt;/td&gt; &lt;td class="markdownTableBodyLeft"&gt; Whether to ignore writing texts of the elements. For example,</code>hi<code>text in</code>hi` will be ignored.   </td></tr>
</table>
<h2><a class="anchor" id="autotoc_md23152"></a>
Convert XML → JS object / JSON</h2>
<p>To convert XML text to JavaScript object, use <code>xml2js()</code>. To convert XML text to JSON text, use <code>xml2json()</code>.</p>
<div class="fragment"><div class="line">var convert = require(&#39;xml-js&#39;);</div>
<div class="line">var xml = require(&#39;fs&#39;).readFileSync(&#39;test.xml&#39;, &#39;utf8&#39;);</div>
<div class="line">var options = {ignoreComment: true, alwaysChildren: true};</div>
<div class="line">var result = convert.xml2js(xml, options); // or convert.xml2json(xml, options)</div>
<div class="line">console.log(result);</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md23153"></a>
Options for Converting XML → JS object / JSON</h3>
<p>The below options are applicable for both <code>xml2js()</code> and <code>xml2json()</code> functions.</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadLeft">Option   </th><th class="markdownTableHeadLeft">Default   </th><th class="markdownTableHeadLeft">Description    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft"><code>compact</code>   </td><td class="markdownTableBodyLeft"><code>false</code>   </td><td class="markdownTableBodyLeft">Whether to produce detailed object or compact object.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft"><code>trim</code>   </td><td class="markdownTableBodyLeft"><code>false</code>   </td><td class="markdownTableBodyLeft">Whether to trim whitespace characters that may exist before and after the text.    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft"><code>sanitize</code> (<a href="https://github.com/nashwaan/xml-js/issues/26">Deprecated</a>)   </td><td class="markdownTableBodyLeft"><code>false</code>   </td><td class="markdownTableBodyLeft">Whether to replace <code>&amp;</code> <code>&lt;</code> <code>&gt;</code> with <code>&amp;amp;</code> <code>&amp;lt;</code> <code>&amp;gt;</code> respectively, in the resultant text.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft"><code>nativeType</code>   </td><td class="markdownTableBodyLeft"><code>false</code>   </td><td class="markdownTableBodyLeft">Whether to attempt converting text of numerals or of boolean values to native type. For example, <code>"123"</code> will be <code>123</code> and <code>"true"</code> will be <code>true</code>    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft"><code>nativeTypeAttributes</code>   </td><td class="markdownTableBodyLeft"><code>false</code>   </td><td class="markdownTableBodyLeft">Whether to attempt converting attributes of numerals or of boolean values to native type. See also <code>nativeType</code> above.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft"><code>addParent</code>   </td><td class="markdownTableBodyLeft"><code>false</code>   </td><td class="markdownTableBodyLeft">Whether to add <code>parent</code> property in each element object that points to parent object.    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft"><code>alwaysArray</code>   </td><td class="markdownTableBodyLeft"><code>false</code>   </td><td class="markdownTableBodyLeft">Whether to always put sub element, even if it is one only, as an item inside an array. <code>&lt;a&gt;&lt;b/&gt;&lt;/a&gt;</code> will be <code>a:[{b:[{}]}]</code> rather than <code>a:{b:{}}</code> (applicable for compact output only). If the passed value is an array, only elements with names in the passed array are always made arrays.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft"><code>alwaysChildren</code>   </td><td class="markdownTableBodyLeft"><code>false</code>   </td><td class="markdownTableBodyLeft">Whether to always generate <code>elements</code> property even when there are no actual sub elements. <code>&lt;a&gt;&lt;/a&gt;</code> will be <code>{"elements":[{"type":"element","name":"a","elements":[]}]}</code> rather than <code>{"elements":[{"type":"element","name":"a"}]}</code> (applicable for non-compact output).    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft"><code>instructionHasAttributes</code>   </td><td class="markdownTableBodyLeft"><code>false</code>   </td><td class="markdownTableBodyLeft">Whether to parse contents of Processing Instruction as attributes or not. <code>&lt;?go to="there"?&gt;</code> will be <code>{"_instruction":{"go":{"_attributes":{"to":"there"}}}}</code> rather than <code>{"_instruction":{"go":"to=\"there\""}}</code>. See <a href="https://github.com/nashwaan/xml-js/issues/17">discussion</a>.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft"><code>ignoreDeclaration</code>   </td><td class="markdownTableBodyLeft"><code>false</code>   </td><td class="markdownTableBodyLeft">Whether to ignore parsing declaration property. That is, no <code>declaration</code> property will be generated.    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft"><code>ignoreInstruction</code>   </td><td class="markdownTableBodyLeft"><code>false</code>   </td><td class="markdownTableBodyLeft">Whether to ignore parsing processing instruction property. That is, no <code>instruction</code> property will be generated.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft"><code>ignoreAttributes</code>   </td><td class="markdownTableBodyLeft"><code>false</code>   </td><td class="markdownTableBodyLeft">Whether to ignore parsing attributes of elements.That is, no <code>attributes</code> property will be generated.    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft"><code>ignoreComment</code>   </td><td class="markdownTableBodyLeft"><code>false</code>   </td><td class="markdownTableBodyLeft">Whether to ignore parsing comments of the elements. That is, no <code>comment</code> will be generated.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft"><code>ignoreCdata</code>   </td><td class="markdownTableBodyLeft"><code>false</code>   </td><td class="markdownTableBodyLeft">Whether to ignore parsing CData of the elements. That is, no <code>cdata</code> will be generated.    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft"><code>ignoreDoctype</code>   </td><td class="markdownTableBodyLeft"><code>false</code>   </td><td class="markdownTableBodyLeft">Whether to ignore parsing Doctype of the elements. That is, no <code>doctype</code> will be generated.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft"><code>ignoreText</code>   </td><td class="markdownTableBodyLeft"><code>false</code>   </td><td class="markdownTableBodyLeft">Whether to ignore parsing texts of the elements. That is, no <code>text</code> will be generated.   </td></tr>
</table>
<p>The below option is applicable only for <code>xml2json()</code> function.</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadLeft">Option   </th><th class="markdownTableHeadLeft">Default   </th><th class="markdownTableHeadLeft">Description    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft"><code>spaces</code>   </td><td class="markdownTableBodyLeft"><code>0</code>   </td><td class="markdownTableBodyLeft">Number of spaces to be used for indenting JSON output. Passing characters like &lsquo;&rsquo; '<code>or</code>'\t'` are also accepted.   </td></tr>
</table>
<h2><a class="anchor" id="autotoc_md23154"></a>
Options for Changing Key Names</h2>
<p>To change default key names in the output object or the default key names assumed in the input JavaScript object / JSON, use the following options:</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadLeft">Option   </th><th class="markdownTableHeadLeft">Default   </th><th class="markdownTableHeadLeft">Description    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft"><code>declarationKey</code>   </td><td class="markdownTableBodyLeft"><code>"declaration"</code> or <code>"_declaration"</code>   </td><td class="markdownTableBodyLeft">Name of the property key which will be used for the declaration. For example, if &lsquo;declarationKey: &rsquo;$declaration'<code>then output of</code>&lt;?xml?&gt;<code>will be</code>{"$declaration":{}}<code>*(in compact form)* \ilinebr &lt;/td&gt; &lt;/tr&gt; &lt;tr class="markdownTableRowEven"&gt; &lt;td class="markdownTableBodyLeft"&gt;</code>instructionKey<code>\ilinebr &lt;/td&gt; &lt;td class="markdownTableBodyLeft"&gt;</code>"instruction"<code>or</code>"_instruction"<code>\ilinebr &lt;/td&gt; &lt;td class="markdownTableBodyLeft"&gt; Name of the property key which will be used for the processing instruction. For example, if</code>instructionKey: '$instruction'<code>then output of</code>&lt;?go there?&gt;<code>will be</code>{"$instruction":{"go":"there"}}<code>*(in compact form)* \ilinebr &lt;/td&gt; &lt;/tr&gt; &lt;tr class="markdownTableRowOdd"&gt; &lt;td class="markdownTableBodyLeft"&gt;</code>attributesKey<code>\ilinebr &lt;/td&gt; &lt;td class="markdownTableBodyLeft"&gt;</code>"attributes"<code>or</code>"_attributes"<code>\ilinebr &lt;/td&gt; &lt;td class="markdownTableBodyLeft"&gt; Name of the property key which will be used for the attributes. For example, if</code>attributesKey: '$attributes'<code>then output of</code><code>will be</code>{"a":{$attributes:{"x":"hello"}}}<code>*(in compact form)* \ilinebr &lt;/td&gt; &lt;/tr&gt; &lt;tr class="markdownTableRowEven"&gt; &lt;td class="markdownTableBodyLeft"&gt;</code>textKey<code>\ilinebr &lt;/td&gt; &lt;td class="markdownTableBodyLeft"&gt;</code>"text"<code>or</code>"_text"<code>\ilinebr &lt;/td&gt; &lt;td class="markdownTableBodyLeft"&gt; Name of the property key which will be used for the text. For example, if</code>textKey: '$text'<code>then output of</code>hi<code>will be</code>{"a":{"$text":"Hi"}}<code>*(in compact form)* \ilinebr &lt;/td&gt; &lt;/tr&gt; &lt;tr class="markdownTableRowOdd"&gt; &lt;td class="markdownTableBodyLeft"&gt;</code>cdataKey<code>\ilinebr &lt;/td&gt; &lt;td class="markdownTableBodyLeft"&gt;</code>"cdata"<code>or</code>"_cdata"<code>\ilinebr &lt;/td&gt; &lt;td class="markdownTableBodyLeft"&gt; Name of the property key which will be used for the cdata. For example, if</code>cdataKey: '$cdata'<code>then output of</code>1 is &lt; 2<code>will be</code>{"$cdata":"1 is &lt; 2"}<code>*(in compact form)* \ilinebr &lt;/td&gt; &lt;/tr&gt; &lt;tr class="markdownTableRowEven"&gt; &lt;td class="markdownTableBodyLeft"&gt;</code>doctypeKey<code>\ilinebr &lt;/td&gt; &lt;td class="markdownTableBodyLeft"&gt;</code>"doctype"<code>or</code>"_doctype"<code>\ilinebr &lt;/td&gt; &lt;td class="markdownTableBodyLeft"&gt; Name of the property key which will be used for the doctype. For example, if</code>doctypeKey: '$doctype'<code>then output of</code>&lt;!DOCTYPE foo&gt;<code>will be</code>{"$doctype":" foo}` *(in compact form)*    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">`commentKey`   </td><td class="markdownTableBodyLeft">`"comment"` or `"_comment"`   </td><td class="markdownTableBodyLeft">Name of the property key which will be used for the comment. For example, if `commentKey: '$comment'` then output of `` will be `{"$comment":"note"}` *(in compact form)*    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft">`parentKey`   </td><td class="markdownTableBodyLeft">`"parent"` or `"_parent"`   </td><td class="markdownTableBodyLeft">Name of the property key which will be used for the parent. For example, if `parentKey: '$parent'` then output of `` will be `{"a":{"b":{$parent:_points_to_a}}}` *(in compact form)*    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">`typeKey`   </td><td class="markdownTableBodyLeft">`"type"`   </td><td class="markdownTableBodyLeft">Name of the property key which will be used for the type. For example, if `typeKey: '$type'` then output of `` will be `{"elements":[{"$type":"element","name":"a"}]}` *(in non-compact form)*    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft">`nameKey`   </td><td class="markdownTableBodyLeft">`"name"`   </td><td class="markdownTableBodyLeft">Name of the property key which will be used for the name. For example, if `nameKey: '$name'` then output of `` will be `{"elements":[{"type":"element","$name":"a"}]}` *(in non-compact form)*    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">`elementsKey`   </td><td class="markdownTableBodyLeft">`"elements"`   </td><td class="markdownTableBodyLeft">Name of the property key which will be used for the elements. For example, if `elementsKey: '$elements'` then output of `` will be `{"$elements":[{"type":"element","name":"a"}]}` <em>(in non-compact form)</em>   </td></tr>
</table>
<p>Two default values mean the first is used for <em>non-compact</em> output and the second is for <em>compact</em> output.</p>
<blockquote class="doxtable">
<p><b>TIP</b>: In compact mode, you can further reduce output result by using fewer characters for key names &lsquo;{textKey: &rsquo;_', attributesKey: '$', commentKey: 'value'}<code>. This is also applicable to non-compact mode. &lt;/blockquote&gt;\ilinebr &lt;blockquote&gt;&amp;zwj;**TIP**: In non-compact mode, you probably want to set</code>{textKey: 'value', cdataKey: 'value', commentKey: 'value'}` to make it more consistent and easier for your client code to go through the contents of text, cdata, and comment. </p>
</blockquote>
<h2><a class="anchor" id="autotoc_md23155"></a>
Options for Custom Processing Functions</h2>
<p>For XML → JS object / JSON, following custom callback functions can be supplied:</p>
<div class="fragment"><div class="line">var convert = require(&#39;xml-js&#39;);</div>
<div class="line">var xml = &#39;&lt;foo:Name&gt;Ali&lt;/Name&gt; &lt;bar:Age&gt;30&lt;/bar:Age&gt;&#39;;</div>
<div class="line">var options = {compact: true, elementNameFn: function(val) {return val.replace(&#39;foo:&#39;,&#39;&#39;).toUpperCase();}};</div>
<div class="line">var result = convert.xml2json(xml, options);</div>
<div class="line">console.log(result); // {&quot;NAME&quot;:{&quot;_text&quot;:&quot;Ali&quot;},&quot;BAR:AGE&quot;:{&quot;_text&quot;:&quot;30&quot;}}</div>
</div><!-- fragment --><table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadLeft">Option   </th><th class="markdownTableHeadLeft">Signature   </th><th class="markdownTableHeadLeft">Description    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft"><code>doctypeFn</code>   </td><td class="markdownTableBodyLeft"><code>(value, parentElement)</code>   </td><td class="markdownTableBodyLeft">To perform additional processing for DOCTYPE. For example, <code>{doctypeFn: function(val) {return val.toUpperCase();}}</code>    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft"><code>instructionFn</code>   </td><td class="markdownTableBodyLeft"><code>(instructionValue, instructionName, parentElement)</code>   </td><td class="markdownTableBodyLeft">To perform additional processing for content of Processing Instruction value. For example, <code>{instructionFn: function(val) {return val.toUpperCase();}}</code>. Note: <code>instructionValue</code> will be an object if <code>instructionHasAttributes</code> is enabled.    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft"><code>cdataFn</code>   </td><td class="markdownTableBodyLeft"><code>(value, parentElement)</code>   </td><td class="markdownTableBodyLeft">To perform additional processing for CData. For example, <code>{cdataFn: function(val) {return val.toUpperCase();}}</code>.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft"><code>commentFn</code>   </td><td class="markdownTableBodyLeft"><code>(value, parentElement)</code>   </td><td class="markdownTableBodyLeft">To perform additional processing for comments. For example, <code>{commentFn: function(val) {return val.toUpperCase();}}</code>.    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft"><code>textFn</code>   </td><td class="markdownTableBodyLeft"><code>(value, parentElement)</code>   </td><td class="markdownTableBodyLeft">To perform additional processing for texts inside elements. For example, <code>{textFn: function(val) {return val.toUpperCase();}}</code>.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft"><code>instructionNameFn</code>   </td><td class="markdownTableBodyLeft"><code>(instructionName, instructionValue, parentElement)</code>   </td><td class="markdownTableBodyLeft">To perform additional processing for Processing Instruction name. For example, <code>{instructionNameFn: function(val) {return val.toUpperCase();}}</code>. Note: <code>instructionValue</code> will be an object if <code>instructionHasAttributes</code> is enabled.    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft"><code>elementNameFn</code>   </td><td class="markdownTableBodyLeft"><code>(value, parentElement)</code>   </td><td class="markdownTableBodyLeft">To perform additional processing for element name. For example, <code>{elementNameFn: function(val) {return val.toUpperCase();}}</code>.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft"><code>attributeNameFn</code>   </td><td class="markdownTableBodyLeft"><code>(attributeName, attributeValue, parentElement)</code>   </td><td class="markdownTableBodyLeft">To perform additional processing for attribute name. For example, <code>{attributeNameFn: function(val) {return val.toUpperCase();}}</code>.    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft"><code>attributeValueFn</code>   </td><td class="markdownTableBodyLeft"><code>(attributeValue, attributeName, parentElement)</code>   </td><td class="markdownTableBodyLeft">To perform additional processing for attributeValue. For example, <code>{attributeValueFn: function(val) {return val.toUpperCase();}}</code>.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft"><code>attributesFn</code>   </td><td class="markdownTableBodyLeft"><code>(value, parentElement)</code>   </td><td class="markdownTableBodyLeft">To perform additional processing for attributes object. For example, <code>{attributesFn: function(val) {return val.toUpperCase();}}</code>.   </td></tr>
</table>
<p>For JS object / JSON → XML, following custom callback functions can be supplied:</p>
<div class="fragment"><div class="line">var convert = require(&#39;xml-js&#39;);</div>
<div class="line">var json = &#39;{&quot;name&quot;:{&quot;_text&quot;:&quot;Ali&quot;},&quot;age&quot;:{&quot;_text&quot;:&quot;30&quot;}}&#39;;</div>
<div class="line">var options = {compact: true, textFn: function(val, elementName) {return elementName === &#39;age&#39;? val + &#39;&#39;;}};</div>
<div class="line">var result = convert.json2xml(json, options);</div>
<div class="line">console.log(result); // &lt;foo:Name&gt;Ali&lt;/Name&gt; &lt;bar:Age&gt;30&lt;/bar:Age&gt;</div>
</div><!-- fragment --><table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadLeft">Option   </th><th class="markdownTableHeadLeft">Signature   </th><th class="markdownTableHeadLeft">Description    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft"><code>doctypeFn</code>   </td><td class="markdownTableBodyLeft"><code>(value, currentElementName, currentElementObj)</code>   </td><td class="markdownTableBodyLeft">To perform additional processing for DOCTYPE. For example, <code>{doctypeFn: function(val) {return val.toUpperCase();}</code>.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft"><code>instructionFn</code>   </td><td class="markdownTableBodyLeft"><code>(instructionValue, instructionName, currentElementName, currentElementObj)</code>   </td><td class="markdownTableBodyLeft">To perform additional processing for content of Processing Instruction value. For example, <code>{instructionFn: function(val) {return val.toUpperCase();}}</code>. Note: <code>instructionValue</code> will be an object if <code>instructionHasAttributes</code> is enabled.    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft"><code>cdataFn</code>   </td><td class="markdownTableBodyLeft"><code>(value, currentElementName, currentElementObj)</code>   </td><td class="markdownTableBodyLeft">To perform additional processing for CData. For example, <code>{cdataFn: function(val) {return val.toUpperCase();}}</code>.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft"><code>commentFn</code>   </td><td class="markdownTableBodyLeft"><code>(value, currentElementName, currentElementObj)</code>   </td><td class="markdownTableBodyLeft">To perform additional processing for comments. For example, <code>{commentFn: function(val) {return val.toUpperCase();}}</code>.    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft"><code>textFn</code>   </td><td class="markdownTableBodyLeft"><code>(value, currentElementName, currentElementObj)</code>   </td><td class="markdownTableBodyLeft">To perform additional processing for texts inside elements. For example, <code>{textFn: function(val) {return val.toUpperCase();}}</code>.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft"><code>instructionNameFn</code>   </td><td class="markdownTableBodyLeft"><code>(instructionName, instructionValue, currentElementName, currentElementObj)</code>   </td><td class="markdownTableBodyLeft">To perform additional processing for Processing Instruction name. For example, <code>{instructionNameFn: function(val) {return val.toUpperCase();}}</code>. Note: <code>instructionValue</code> will be an object if <code>instructionHasAttributes</code> is enabled.    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft"><code>elementNameFn</code>   </td><td class="markdownTableBodyLeft"><code>(value, currentElementName, currentElementObj)</code>   </td><td class="markdownTableBodyLeft">To perform additional processing for element name. For example, <code>{elementNameFn: function(val) {return val.toUpperCase();}}</code>.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft"><code>attributeNameFn</code>   </td><td class="markdownTableBodyLeft"><code>(attributeName, attributeValue, currentElementName, currentElementObj)</code>   </td><td class="markdownTableBodyLeft">To perform additional processing for attribute name. For example, <code>{attributeNameFn: function(val) {return val.toUpperCase();}}</code>.    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft"><code>attributeValueFn</code>   </td><td class="markdownTableBodyLeft"><code>(attributeValue, attributeName, currentElementName, currentElementObj)</code>   </td><td class="markdownTableBodyLeft">To perform additional processing for attributeValue. For example, <code>{attributeValueFn: function(val) {return val.toUpperCase();}}</code>.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft"><code>attributesFn</code>   </td><td class="markdownTableBodyLeft"><code>(value, currentElementName, currentElementObj)</code>   </td><td class="markdownTableBodyLeft">To perform additional processing for attributes object. For example, <code>{attributesFn: function(val) {return val.toUpperCase();}}</code>.    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft"><code>fullTagEmptyElementFn</code>   </td><td class="markdownTableBodyLeft"><code>(currentElementName, currentElementObj)</code>   </td><td class="markdownTableBodyLeft">Whether to generate full tag or just self closing tag for elements that has no sub elements. For example, &lsquo;{fullTagEmptyElementFn: function(val) {return val === 'foo&rsquo;}}`.   </td></tr>
</table>
<h1><a class="anchor" id="autotoc_md23156"></a>
Command Line</h1>
<p>Because any good library should support command line usage, this library is no different.</p>
<h2><a class="anchor" id="autotoc_md23157"></a>
As Globally Accessible Command</h2>
<div class="fragment"><div class="line">npm install -g xml-js                       // install this library globally</div>
<div class="line">xml-js test.json --spaces 4                 // xml result will be printed on screen</div>
<div class="line">xml-js test.json --spaces 4 --out test.xml  // xml result will be saved to test.xml</div>
<div class="line">xml-js test.xml --spaces 4                  // json result will be printed on screen</div>
<div class="line">xml-js test.xml --spaces 4 --out test.json  // json result will be saved to test.json</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md23158"></a>
As Locally Accessible Command</h2>
<p>If you want to use it as script in package.json (can also be helpful in <a href="http://blog.keithcirkel.co.uk/how-to-use-npm-as-a-build-tool/">task automation via npm scripts</a>)</p>
<div class="fragment"><div class="line">npm install --save xml-js   // no need to install this library globally</div>
</div><!-- fragment --><p>In package.json, write a script: </p><div class="fragment"><div class="line">...</div>
<div class="line">  &quot;dependencies&quot;: {</div>
<div class="line">    &quot;xml-js&quot;: &quot;latest&quot;</div>
<div class="line">  },</div>
<div class="line">  &quot;scripts&quot;: {</div>
<div class="line">    &quot;convert&quot;: &quot;xml-js test.json --spaces 4&quot;</div>
<div class="line">  }</div>
</div><!-- fragment --><p>Now in the command line, you can run this script by typing: </p><div class="fragment"><div class="line">npm run convert             // task &#39;scripts.convert&#39; will be executed</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md23159"></a>
CLI Arguments</h2>
<div class="fragment"><div class="line">Usage: xml-js src [options]</div>
<div class="line"> </div>
<div class="line">  src                  Input file that need to be converted.</div>
<div class="line">                       Conversion type xml-&gt;json or json-&gt;xml will be inferred from file extension.</div>
<div class="line"> </div>
<div class="line">Options:</div>
<div class="line">  --help, -h           Display this help content.</div>
<div class="line">  --version, -v        Display version number of this module.</div>
<div class="line">  --out                Output file where result should be written.</div>
<div class="line">  --spaces             Specifies amount of space indentation in the output.</div>
<div class="line">  --full-tag           XML elements will always be in &lt;a&gt;&lt;/a&gt; form.</div>
<div class="line">  --no-decl            Declaration directive &lt;?xml?&gt; will be ignored.</div>
<div class="line">  --no-inst            Processing instruction &lt;?...?&gt; will be ignored.</div>
<div class="line">  --no-attr            Attributes of elements will be ignored.</div>
<div class="line">  --no-text            Texts of elements will be ignored.</div>
<div class="line">  --no-cdata           CData of elements will be ignored.</div>
<div class="line">  --no-doctype         DOCTYPE of elements will be ignored.</div>
<div class="line">  --no-comment         Comments of elements will be ignored.</div>
<div class="line">  --trim               Any whitespaces surrounding texts will be trimmed.</div>
<div class="line">  --compact            JSON is in compact form.</div>
<div class="line">  --native-type        Numbers and boolean will be converted (coerced) to native type instead of text.</div>
<div class="line">  --always-array       Every element will always be an array type (applicable if --compact is set).</div>
<div class="line">  --always-children    Every element will always contain sub-elements (applicable if --compact is not set).</div>
<div class="line">  --text-key           To change the default &#39;text&#39; key.</div>
<div class="line">  --cdata-key          To change the default &#39;cdata&#39; key.</div>
<div class="line">  --doctype-key        To change the default &#39;doctype&#39; key.</div>
<div class="line">  --comment-key        To change the default &#39;comment&#39; key.</div>
<div class="line">  --attributes-key     To change the default &#39;attributes&#39; key.</div>
<div class="line">  --declaration-key    To change the default &#39;declaration&#39; key.</div>
<div class="line">  --instruction-key    To change the default &#39;processing instruction&#39; key.</div>
<div class="line">  --type-key           To change the default &#39;type&#39; key (applicable if --compact is not set).</div>
<div class="line">  --name-key           To change the default &#39;name&#39; key (applicable if --compact is not set).</div>
<div class="line">  --elements-key       To change the default &#39;elements&#39; key (applicable if --compact is not set).</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md23160"></a>
Contribution</h1>
<h2><a class="anchor" id="autotoc_md23161"></a>
Testing</h2>
<p>To perform tests on this project, download the full repository from GitHub (not from npm) and then do the following:</p>
<div class="fragment"><div class="line">cd xml-js</div>
<div class="line">npm install</div>
<div class="line">npm test</div>
</div><!-- fragment --><p> For live testing, use <code>npm start</code> instead of <code>npm test</code>.</p>
<h2><a class="anchor" id="autotoc_md23162"></a>
Reporting</h2>
<p>Use <a href="https://github.com/nashwaan/xml-js/issues">this link</a> to report an issue or bug. Please include a sample code where the code is failing.</p>
<h1><a class="anchor" id="autotoc_md23163"></a>
License</h1>
<p><a href="https://github.com/nashwaan/xml-js/blob/master/LICENSE">MIT</a> </p>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_49e56c817e5e54854c35e136979f97ca.html">docs</a></li><li class="navelem"><a class="el" href="dir_a0409b32ef7fd26e7246cf83548265be.html">node_modules</a></li><li class="navelem"><a class="el" href="dir_95cd153f74f874628aae2f1d9ad36b92.html">xml-js</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.13.2 </li>
  </ul>
</div>
</body>
</html>
